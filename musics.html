<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ave Mujica | 音乐馆</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700&family=Crimson+Text:wght@400;600&display=swap" rel="stylesheet">
    <style>
        * { box-sizing: border-box; margin: 0; padding: 0; }
        html { scroll-behavior: smooth; }
        :root {
            --dark-gray: #1a1a1a;
            --deep-purple: #2d1b4e;
            --metal-silver: #c0c0c0;
            --blood-red: #8a0303;
        }
        body {
            font-family: 'Crimson Text', serif;
            background: var(--dark-gray);
            color: var(--metal-silver);
        }
        .cursor-trail {
            position: fixed;
            top: 0;
            left: 0;
            border-radius: 50%;
            pointer-events: none;
            transform: translate(-50%, -50%);
            opacity: 0.65;
            filter: blur(0.3px);
            animation: trailFade 0.6s ease-out forwards;
            mix-blend-mode: screen;
        }
        @keyframes trailFade {
            from { transform: translate(-50%, -50%) scale(0.8); opacity: 0.65; }
            to { transform: translate(-50%, -50%) scale(2.1); opacity: 0; }
        }
        header {
            background: rgba(26,11,46,0.75);
            position: fixed;
            width: 100%;
            z-index: 1000;
            padding: 15px 0;
            border-bottom: 1px solid var(--blood-red);
        }
        nav {
            display: flex;
            justify-content: space-between;
            align-items: center;
            width: 90%;
            max-width: 1200px;
            margin: 0 auto;
        }
        .logo {
            font-family: 'Cinzel', serif;
            color: var(--metal-silver);
            text-decoration: none;
            font-weight: 700;
        }
        .nav-links {
            display: flex;
            gap: 16px;
            list-style: none;
        }
        .nav-links a {
            color: #c0c0c0;
            text-decoration: none;
            font-weight: 600;
            transition: color 0.3s;
        }
        .nav-links a:hover { color: var(--blood-red); }
        .nav-links a::after {
            content: '';
            display: block;
            width: 0;
            height: 2px;
            background: var(--blood-red);
            transition: width 0.3s;
        }
        .nav-links a:hover::after { width: 100%; }
        .hero {
            height: 75vh;
            background:
                linear-gradient(135deg, rgba(45,27,78,0.78), rgba(26,11,46,0.9)),
                url('images/Musics_Background.png');
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            padding: 0 20px;
        }
        .hero h1 { font-size: 3.4rem; color: #fff; }
        .hero p { margin-top: 12px; font-size: 1.2rem; color: #e7e7f2; }
        .hero-note { margin-top: 16px; color: rgba(255,255,255,0.7); font-size: 0.95rem; letter-spacing: 0.08em; }
        .content { padding: 110px 0; }
        .container { width: 90%; max-width: 1200px; margin: 0 auto; }
        .big-card {
            background: rgba(26,11,46,0.68);
            border: 1px solid rgba(255,255,255,0.08);
            border-radius: 12px;
            padding: 28px;
            display: grid;
            gap: 24px;
        }
        .intro {
            font-size: 1.1rem;
            line-height: 1.8;
            color: #dcdcf0;
        }
        .albums {
            display: flex;
            flex-wrap: wrap;
            gap: 28px;
            justify-content: center;
        }
        .album-card {
            width: 280px;
            background: rgba(0,0,0,0.32);
            border: 1px solid rgba(255,255,255,0.08);
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 6px 18px rgba(0,0,0,0.55);
            transition: transform 0.3s ease;
        }
        .album-card:hover { transform: translateY(-6px); }
        .album-cover {
            height: 260px;
            background-position: center;
            background-size: cover;
        }
        .album-info { padding: 18px; }
        .album-title { font-size: 1.3rem; margin-bottom: 8px; }
        .album-year { color: var(--blood-red); margin-bottom: 12px; }
        .play-button {
            display: inline-block;
            padding: 8px 18px;
            background: var(--blood-red);
            color: #fff;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s;
        }
        .play-button:hover { background: #5c0202; }
        footer {
            padding: 50px 0 20px;
            text-align: center;
            background: var(--dark-gray);
        }
        .social-links {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-bottom: 20px;
        }
        .social-links a {
            color: #c0c0c0;
            text-decoration: none;
            font-size: 1.5em;
            transition: color 0.3s;
        }
        .social-links a:hover { color: var(--blood-red); }
        #bgMusicControl {
            position: fixed;
            left: 12px;
            bottom: 12px;
            background: rgba(26,11,46,0.9);
            color: var(--metal-silver);
            border: 1px solid rgba(192,192,192,0.08);
            padding: 8px 10px;
            border-radius: 6px;
            z-index: 12000;
            cursor: pointer;
            font-size: 0.95rem;
        }
        @media (max-width: 768px) {
            .nav-links { flex-wrap: wrap; justify-content: flex-end; }
            .hero h1 { font-size: 2.4rem; }
            .album-card { width: 100%; max-width: 320px; }
        }
    </style>
</head>
<body>
<header>
    <nav>
        <a class="logo" href="index.html">AVE MUJICA</a>
        <ul class="nav-links">
            <li><a href="index.html#home">首页</a></li>
            <li><a href="index.html#about">关于</a></li>
            <li><a href="musics.html">音乐</a></li>
            <li><a href="tour.html">巡演</a></li>
            <li><a href="#contact">联系</a></li>
        </ul>
    </nav>
</header>

<section class="hero">
    <div>
        <h1>颂乐馆</h1>
        <p>沉浸在人偶的音乐中</p>
        <p>切记勿要迷失自己</p>
        <p class="hero-note"><a href="images/Musics_Background.png" style="color:inherit;text-decoration:underline"></a></p>
        
    </div>
</section>

<main class="content">
    <div class="container">
        <div class="big-card">
            <p class="intro"></p>
            <div class="albums">
                <div class="album-card">
                    <div class="album-cover" style="background-image: url('images/Ave Mujica.jpg')"></div>
                    <div class="album-info">
                        <h3 class="album-title">Ave Mujica</h3>
                        <p class="album-year">2023-9-13(MyGO ep.13)</p>
                        <p>亲亲们别再问了，我们这边没有键盘版的春日影哦。</p>
                        <button class="play-button" data-music="Ave Mujica - Ave Mujica.mp3">播放</button>
                    </div>
                </div>
                <div class="album-card">
                    <div class="album-cover" style="background-image: url('images/KiLLKiSS.jpg')"></div>
                    <div class="album-info">
                        <h3 class="album-title">KiLLKiSS</h3>
                        <p class="album-year">2025-1-8(Mujica OP)</p>
                        <p>这是一架冲向云霄的银河战舰！</p>
                        <button class="play-button" data-music="Ave Mujica - KiLLKiSS.mp3">播放</button>
                    </div>
                </div>
                <div class="album-card">
                    <div class="album-cover" style="background-image: url('images/Crucifix X.jpg')"></div>
                    <div class="album-info">
                        <h3 class="album-title">Crucifix X</h3>
                        <p class="album-year">2025-3-6(Mujica ep.10)</p>
                        <p>still alive = steal a life</p>
                        <button class="play-button" data-music="Ave Mujica - Crucifix X.mp3">播放</button>
                    </div>
                </div>
                <div class="album-card">
                    <div class="album-cover" style="background-image: url('images/天球(そら)のMúsica.jpg')"></div>
                    <div class="album-info">
                        <h3 class="album-title">天球(そら)のMúsica</h3>
                        <p class="album-year">2025-4-3(Mujica ep.13)</p>
                        <p>那满天的星光，一定是神明大人送给爱看星星的小女孩的礼物吧。</p>
                        <button class="play-button" data-music="Ave Mujica - 天球(そら)のMúsica.mp3">播放</button>
                    </div>
                </div>
                <div class="album-card">
                    <div class="album-cover" style="background-image: url('images/Symbol III  ▽.jpg')"></div>
                    <div class="album-info">
                        <h3 class="album-title">Symbol III  ▽</h3>
                        <p class="album-year">2024-6-15(ELEMENTS)</p>
                        <p>听一千遍 Symbol III : ▽ 就能回到一月二日的那个晚上吗。</p>
                        <button class="play-button" data-music="Ave Mujica - Symbol III _ ▽.mp3">播放</button>
                    </div>
                </div>
                <div class="album-card">
                    <div class="album-cover" style="background-image: url('images/in your blue eyes.jpg')"></div>
                    <div class="album-info">
                        <h3 class="album-title">in your blue eyes</h3>
                        <p class="album-year">2025-9-4(Collaboration with Arknights)</p>
                        <p>这就是领养手续吗？我同意了。</p>
                        <button class="play-button" data-music="Ave Mujica & 塞壬唱片-MSR - in your blue eyes.mp3">播放</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</main>

<footer id="contact">
    <div class="container">
        <div class="social-links">
            <a href="https://space.bilibili.com/1459104794"><i class="fab fa-bilibili"></i></a>
            <a href="https://www.youtube.com/@bang_dream_AveMujica"><i class="fab fa-youtube"></i></a>
            <a href="https://www.instagram.com/bang_dream_official_"><i class="fab fa-instagram"></i></a>
            <a href="https://x.com/BDP_AveMujica"><i class="fab fa-x"></i></a>
        </div>
        <p>© 2025 Anon HUST. 保留所有权利。</p>
    </div>
</footer>

<button id="bgMusicControl" aria-label="背景音乐">背景音乐：播放中</button>

<script src="background-music.js"></script>
<script>
const trailColors = ['#7799cc', '#bb9955', '#779977', '#335566', '#aa4455'];
let lastTrailTime = 0;
const trailMinInterval = 16;
window.addEventListener('pointermove', function(e) {
    const now = Date.now();
    if (now - lastTrailTime < trailMinInterval) return;
    lastTrailTime = now;
    const dot = document.createElement('span');
    dot.className = 'cursor-trail';
    dot.style.width = '14px';
    dot.style.height = '14px';
    dot.style.left = e.clientX + 'px';
    dot.style.top = e.clientY + 'px';
    dot.style.background = trailColors[Math.floor(Math.random() * trailColors.length)];
    document.body.appendChild(dot);
    setTimeout(() => dot.remove(), 600);
}, { passive: true });

(function bootstrapBgMusic(){
    const bgOptions = {
        buttonSelector: '#bgMusicControl',
        playlist: [
            'Ave Mujica - Ave Mujica.mp3',
            'Ave Mujica - KiLLKiSS.mp3',
            'Ave Mujica - Crucifix X.mp3',
            'Ave Mujica - 天球(そら)のMúsica.mp3',
            'Ave Mujica - Symbol III _ ▽.mp3',
            'Ave Mujica & 塞壬唱片-MSR - in your blue eyes.mp3'
        ],
        basePath: 'musics/',
        storageKey: 'aveMujicaBgMusicState',
        autoplay: true,
        volume: 0.35
    };
    const start = () => initBackgroundMusic(bgOptions);
    if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', start, { once: true });
    } else {
        start();
    }
})();

(function bindPlayButtons() {
    const PREVIEW_VOLUME = 0.35;
    const audio = new Audio();
    audio.preload = 'none';
    audio.volume = PREVIEW_VOLUME;
    let currentButton = null;

    function setButtonPlaying(btn, playing) {
        if (!btn) return;
        btn.textContent = playing ? '暂停' : '播放';
        btn.classList.toggle('playing', playing);
    }

    document.querySelectorAll('.play-button').forEach(btn => {
        const fname = btn.getAttribute('data-music');
        if (!fname) return;
        btn.addEventListener('click', function(e) {
            e.stopPropagation();
            if (currentButton === btn) {
                if (audio.paused) {
                    audio.play();
                    setButtonPlaying(btn, true);
                } else {
                    audio.pause();
                    setButtonPlaying(btn, false);
                }
                return;
            }
            if (currentButton) setButtonPlaying(currentButton, false);
            currentButton = btn;
            const src = 'musics/' + encodeURIComponent(fname).replace(/%20/g, ' ');
            if (window.__bgMusicControl && window.__bgMusicControl.pause) {
                try { window.__bgMusicControl.pause(); } catch (err) {}
            }
            audio.src = src;
            audio.currentTime = 0;
            audio.play().then(() => setButtonPlaying(btn, true)).catch(err => {
                console.error('播放失败', err);
                if (window.__bgMusicControl && window.__bgMusicControl.resume) {
                    try { window.__bgMusicControl.resume(); } catch (e) {}
                }
            });
        });
    });

    audio.addEventListener('ended', () => {
        setButtonPlaying(currentButton, false);
        currentButton = null;
        if (window.__bgMusicControl && window.__bgMusicControl.resume) {
            try { window.__bgMusicControl.resume(); } catch (e) {}
        }
    });

    audio.addEventListener('pause', () => {
        setButtonPlaying(currentButton, false);
        if (window.__bgMusicControl && window.__bgMusicControl.resume) {
            try { window.__bgMusicControl.resume(); } catch (e) {}
        }
    });
})();
</script>
</body>
</html>
